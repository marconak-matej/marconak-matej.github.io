---
layout: post
title: "[MM’s] Boot Notes — gRPC with Spring Boot"
canonical_url: https://marconak-matej.medium.com/mms-boot-notes-grpc-with-spring-boot-b2f8519aa5ea?source=rss-f1368b7746f7------2
tag:
- grpc
- java
- spring-boot
- programming
---

<h4><em>The Official gRPC Starter: Discover the auto-configuration, native testing and exception mapping that makes gRPC a first-class citizen.</em></h4><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*Vd_EqhJiRx0wb24OfRH76Q.png" /><figcaption>gRPC with Spring Boot</figcaption></figure><p>For years, Spring Boot developers who wanted gRPC had one default option: the community-maintained <a href="https://github.com/yidongnan/grpc-spring-boot-starter">net.devh:grpc-spring-boot-starter</a>. It worked, it was reliable — but it always felt like a plugin rather than a native citizen.</p><p>That changes now. With the <strong>official Spring gRPC starter</strong>, the Spring team has finally embraced gRPC as a first-class protocol within the Boot ecosystem — complete with auto-configuration, testing, exception mapping and observability.</p><h4>⚡ TL;DR (Quick Recap)</h4><ul><li><strong>New official starter:</strong> org.springframework.grpc:spring-grpc-spring-boot-starter brings gRPC into the Spring Boot core ecosystem.</li><li><strong>Spring-first experience:</strong> Works with @GrpcService, GrpcExceptionHandler and in-process tests — no custom server setup required.</li><li><strong>Migration ready:</strong> Replaces net.devh.grpc-spring-boot-starter with cleaner configuration, better testing and official support.</li></ul><h4>Why gRPC Finally Feels Native in Spring Boot</h4><p>gRPC has long been a favorite for inter-service communication in microservice architectures — fast, strongly typed and polyglot. But in Spring Boot, it’s always been a little… external.</p><p>With the official starter (spring-grpc-spring-boot-starter), gRPC now feels like just another Spring Boot technology. You define .proto files, annotate your services and Spring Boot does the rest .</p><p>It’s the same “convention over configuration” magic that Spring brought to REST, now applied to binary gRPC.</p><h4>Setting Up the Project</h4><p>Here’s all you need in pom.xml:</p><pre>&lt;dependencyManagement&gt;<br>    &lt;dependencies&gt;<br>        &lt;dependency&gt;<br>            &lt;groupId&gt;org.springframework.grpc&lt;/groupId&gt;<br>            &lt;artifactId&gt;spring-grpc-dependencies&lt;/artifactId&gt;<br>            &lt;version&gt;0.11.0&lt;/version&gt;<br>            &lt;type&gt;pom&lt;/type&gt;<br>            &lt;scope&gt;import&lt;/scope&gt;<br>        &lt;/dependency&gt;<br>    &lt;/dependencies&gt;<br>&lt;/dependencyManagement&gt;<br><br>&lt;dependencies&gt;<br>    &lt;dependency&gt;<br>        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br>        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;<br>    &lt;/dependency&gt;<br>    &lt;dependency&gt;<br>        &lt;groupId&gt;org.springframework.grpc&lt;/groupId&gt;<br>        &lt;artifactId&gt;spring-grpc-spring-boot-starter&lt;/artifactId&gt;<br>    &lt;/dependency&gt;<br>    &lt;dependency&gt;<br>        &lt;groupId&gt;io.grpc&lt;/groupId&gt;<br>        &lt;artifactId&gt;grpc-services&lt;/artifactId&gt;<br>    &lt;/dependency&gt;<br>&lt;/dependencies&gt;</pre><p>And a Protobuf compiler plugin:</p><pre>&lt;plugin&gt;<br>    &lt;groupId&gt;io.github.ascopes&lt;/groupId&gt;<br>    &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;<br>    &lt;version&gt;3.8.0&lt;/version&gt;<br>    &lt;configuration&gt;<br>        &lt;protocVersion&gt;4.31.1&lt;/protocVersion&gt;<br>        &lt;binaryMavenPlugins&gt;<br>            &lt;binaryMavenPlugin&gt;<br>                &lt;groupId&gt;io.grpc&lt;/groupId&gt;<br>                &lt;artifactId&gt;protoc-gen-grpc-java&lt;/artifactId&gt;<br>                &lt;version&gt;1.74.0&lt;/version&gt;<br>            &lt;/binaryMavenPlugin&gt;<br>        &lt;/binaryMavenPlugins&gt;<br>    &lt;/configuration&gt;<br>&lt;/plugin&gt;</pre><p>That’s it — Spring Boot will handle gRPC server startup automatically when you run:</p><pre>./mvnw spring-boot:run</pre><h4>Defining Your Contract</h4><p>Your gRPC API lives in a .proto file. Here’s a trimmed example from demo.proto:</p><pre>syntax = &quot;proto3&quot;;<br>package demo;<br><br>service DemoService {<br>  rpc CreateDemo(CreateDemoRequest) returns (DemoResponse);<br>  rpc GetDemo(GetDemoRequest) returns (DemoResponse);<br>  rpc ListDemos(ListDemosRequest) returns (ListDemosResponse);<br>}<br>message Demo {<br>  string id = 1;<br>  string name = 2;<br>}<br>...</pre><p>When you build the project, the Maven plugin generates type-safe Java classes for the messages and stubs — exactly the kind of compile-time safety gRPC is loved for.</p><h4>Implementing a gRPC Service the Spring Way</h4><p>The magic happens with @GrpcService.</p><pre>@GrpcService<br>public class GrpcDemoService extends DemoServiceGrpc.DemoServiceImplBase {<br><br>    @Override<br>    public void createDemo(CreateDemoRequest request, StreamObserver&lt;DemoResponse&gt; responseObserver) {<br>        var response = DemoResponse.newBuilder()<br>                   .build())<br>                .build();<br>        responseObserver.onNext(response);<br>        responseObserver.onCompleted();<br>    }<br>}</pre><p>Why this is different from net.devh:</p><ul><li>@GrpcService is <strong>official</strong> — no external package.</li><li>It’s Spring-managed, so you can inject beans, apply interceptors and rely on Spring Boot’s lifecycle.</li><li>Exception handling and observability are auto-wired if you include Spring Boot dependencies</li></ul><h4>Configuration? Just Properties</h4><p>The configuration model mirrors other Spring Boot starters:</p><ul><li>spring.grpc.server.* — for server configuration</li><li>spring.grpc.client.* — for client configuration</li><li>Built-in support for <strong>in-process</strong> servers for tests and <strong>health/reflection</strong> services.</li></ul><p>It just feels natural if you’ve ever configured spring.datasource.*</p><h4>Error Handling</h4><p>One of the big wins over the old ecosystem is <strong>exception mapping</strong>. The new GrpcExceptionHandler interface lets you translate exceptions into gRPC status codes without writing boilerplate try-catch logic:</p><pre>@Component<br>public class NotFoundExceptionHandler implements GrpcExceptionHandler {<br>    @Override<br>    public StatusException handleException(Throwable ex) {<br>        if (ex instanceof NotFoundException e) {<br>            return Status.NOT_FOUND<br>                    .withDescription(e.getMessage())<br>                    .asException();<br>        }<br>        return null;<br>    }<br>}</pre><p>This is cleaner, more predictable and easily testable. Add multiple handlers, order them and you get HTTP-like semantics (404, 400, etc.) in your gRPC world.</p><h4>Testing</h4><p>The official starter integrates tightly with Spring Boot’s test lifecycle:</p><pre>@SpringBootTest(<br>  properties = {<br>    &quot;spring.grpc.server.port=0&quot;,<br>    &quot;spring.grpc.client.channels.demo.address=static://localhost:${local.grpc.port}&quot;<br>  })<br>@ImportGrpcClients(types = DemoServiceGrpc.DemoServiceBlockingStub.class)<br>class GrpcDemoServiceIntegrationTest {<br>@Autowired<br>    private DemoServiceGrpc.DemoServiceBlockingStub stub;<br>    @Test<br>    void shouldCreateDemo() {<br>        var request = CreateDemoRequest.newBuilder().setName(&quot;Test&quot;).build();<br>        var response = stub.createDemo(request);<br>        assertThat(response.getDemo().getName()).isEqualTo(&quot;Test&quot;);<br>    }<br>}</pre><p>No mock servers, no manual ports. Spring Boot spins up an in-process gRPC server and injects the client stubs automatically.</p><h4>Comparing to net.devh’s gRPC Starter</h4><p>Let’s be honest: net.devh carried the community for years. It gave us working gRPC support long before Spring cared. But it’s time to move on.</p><p>Here’s how the new starter compares:</p><p><strong>✅ Official Spring gRPC Starter</strong></p><ul><li>Owned and maintained by the Spring team</li><li>Aligned with Spring Boot 3.x and 4.x lifecycle</li><li>Built-in observability, metrics and security via Spring Boot</li><li>First-class support for in-process servers, exception mapping and declarative security</li><li>Uses spring.grpc.* property namespace</li></ul><p><strong>⚙️ net.devh gRPC Starter</strong></p><ul><li>Community-driven, slower to update for major Spring Boot releases</li><li>Lacked native testing integration</li><li>Used grpc.server.* and grpc.client.* properties</li><li>Still useful for legacy Boot 2.x and 3.x applications</li></ul><p>Migrating is straightforward:</p><ul><li>Replace dependencies with the new Spring starter.</li><li>Update your annotations to @GrpcService and @ImportGrpcClients.</li><li>Adjust property names to spring.grpc.*.</li><li>Remove custom server bootstrap or config beans — Spring Boot handles them now.</li></ul><p>You’ll gain cleaner config, better Spring integration and official long-term support.</p><h4>Why This Matters</h4><p>This official starter finally closes a long-standing gap between REST and gRPC in the Spring world.<br> We now get:</p><ul><li>The <strong>speed and type safety</strong> of gRPC.</li><li>The <strong>developer ergonomics</strong> of Spring Boot.</li><li>The <strong>confidence</strong> of first-party support.</li></ul><p>And it’s not just about convenience — features like in-process testing, native images, observability and Spring Security integration make it production-ready from day one.</p><h4>Final Takeaways</h4><p>If you’ve been holding off on adopting gRPC in your Spring Boot services because the setup felt “third-party,” now’s the time to revisit it.</p><ul><li>Use the official spring-grpc-spring-boot-starter for new projects.</li><li>Migrate existing net.devh setups gradually — most patterns carry over cleanly.</li><li>Leverage in-process tests and exception handlers to make your services robust.</li></ul><p>Spring’s official gRPC integration is here — and it finally feels like it belongs.</p><p>You can find all the code on <a href="https://github.com/marconak-matej/spring-boot-4-boot-notes">GitHub</a>.</p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=b2f8519aa5ea" width="1" height="1" alt="">
